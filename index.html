<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Be My Valentine?</title>

<style>
:root{
  --yes:#22c55e;
  --no:#ef4444;
}

body{
  margin:0;
  height:100vh;
  font-family: system-ui, sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding: 20px;
  box-sizing:border-box;
}

h1{
  font-size: clamp(22px,5vw,42px);
  margin:0 0 10px 0;
}

#msg{
  min-height:28px;
  font-weight:700;
  color:#7c2d12;
  margin:0 0 14px 0;
  padding: 0 10px;
  box-sizing: border-box;
}

/* START GIF */
#startGif{
  width:min(380px,85vw);
  max-height:40vh;
  object-fit:contain;
  border-radius:18px;
  box-shadow:0 15px 40px rgba(0,0,0,.25);
  margin-bottom:18px;

  /* don't steal taps */
  pointer-events: none;
}

/* BUTTON BAR */
#buttonBar{
  display:flex;
  gap:16px;
  justify-content:center;
  flex-wrap:wrap;
}

/* BUTTONS */
.btn{
  width: clamp(120px, 30vw, 180px);
  height: clamp(50px, 8vh, 70px);
  border:none;
  border-radius:16px;
  font-size: clamp(16px,4vw,22px);
  font-weight:800;
  cursor:pointer;
  color:white;
  transition: transform .15s ease, filter .15s ease;
  transform-origin: bottom center;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

.btn:hover{ filter: brightness(1.05); }

#yes{ background:var(--yes); }
#no{  background:var(--no);  }

/* SUCCESS SCREEN */
#success{
  display:none;
  position:fixed;
  inset:0;
  background: linear-gradient(135deg,#fbc2eb,#a6c1ee);
  align-items:center;
  justify-content:center;
  flex-direction:column;
  text-align:center;
  padding:20px;
  box-sizing:border-box;
  z-index:999;
}

#success h2{
  font-size: clamp(22px,5vw,40px);
  margin:0 0 15px 0;
}

#success img{
  width:min(480px,90vw);
  max-height:60vh;
  object-fit:contain;
  border-radius:20px;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
}
</style>
</head>

<body>

<h1>Will you be my Valentine? ðŸ’˜</h1>
<div id="msg"></div>

<img id="startGif"
  src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZXhrd2xlejVoejk3aWhmbDV1ODF2bmFzYmY1bWx3ZThhMXM3aDN1YiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/sNaBNHusmmndIdzAFw/giphy.gif"
  alt="Be My Valentine">

<div id="buttonBar">
  <button class="btn" id="yes">YES ðŸ’–</button>
  <button class="btn" id="no">NO ðŸ™ƒ</button>
</div>

<div id="success">
  <h2>I knew you would say yes! ðŸ¥³ðŸ’ž</h2>
  <img
    src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTJ6cXgxbHl4eWxrcjNrZG03eWx0OGttamdjNDZmNXo0c3VwNHQ4aiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/7HdytY2FAUBKUf6T1w/giphy.gif"
    alt="Congratulations">
</div>

<script>
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const msg = document.getElementById("msg");
const success = document.getElementById("success");

let noClicks = 0;
let teleportMode = false;

function scale(button, size){
  button.style.transform = `scale(${size})`;
}

function randomPosition(button){
  const pad = 12;
  const r = button.getBoundingClientRect();
  const maxX = window.innerWidth - r.width - pad;
  const maxY = window.innerHeight - r.height - pad;

  // Keep it mostly in lower half so it doesn't cover the title/GIF
  const minY = Math.max(window.innerHeight * 0.45, pad);

  const x = pad + Math.random() * Math.max(1, (maxX - pad));
  const y = minY + Math.random() * Math.max(1, (maxY - minY));

  // Pull NO out of the flex bar and place it anywhere
  button.style.position = "fixed";
  button.style.left = x + "px";
  button.style.top  = y + "px";
  button.style.zIndex = 50;
}

yes.addEventListener("click", ()=>{
  success.style.display = "flex";
});

no.addEventListener("click", ()=>{
  noClicks++;

  if (noClicks === 1){
    msg.textContent = "Are you sure? He's a really nice guy ðŸ˜‡";
    scale(yes,2);
    scale(no,0.5);
    randomPosition(no);
  }
  else if (noClicks === 2){
    msg.textContent = "Last chanceâ€¦ are you absolutely sure? ðŸ¥º";
    scale(yes,2.5);
    scale(no,0.4);
    randomPosition(no);
  }
  else {
    teleportMode = true;
    msg.textContent = "Too late. The universe has decided ðŸ˜ˆ";
    scale(yes,3);
    scale(no,0.3);

    // Immediately move it once when teleport mode starts
    randomPosition(no);
  }
});

/* Desktop: near-hover chase */
function handleNear(x, y){
  if(!teleportMode) return;
  const r = no.getBoundingClientRect();
  const cx = r.left + r.width/2;
  const cy = r.top + r.height/2;
  if (Math.hypot(x - cx, y - cy) < 150) randomPosition(no);
}

window.addEventListener("mousemove", (e)=> handleNear(e.clientX, e.clientY), { passive:true });
window.addEventListener("touchmove", (e)=>{
  if(!e.touches || !e.touches[0]) return;
  handleNear(e.touches[0].clientX, e.touches[0].clientY);
},{ passive:true });

/* Phone + desktop: if they try to tap/click NO in teleport mode, it escapes instantly */
no.addEventListener("pointerdown", (e)=>{
  if(!teleportMode) return;
  // Stop the click from landing on it
  e.preventDefault();
  e.stopPropagation();
  randomPosition(no);
});
</script>

</body>
</html>

